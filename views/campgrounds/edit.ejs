<% include ../partials/header %>

<div class="container">
	<div class="row">
		
		<h1 style="text-align: center">Edit <%= campground.name %></h1>
		<div style="width: 30%; margin: 25px auto">
			<form action="/campgrounds/<%= campground._id %>" method="POST" enctype="multipart/form-data">
				<div class="form-group">
					<label style=" display: block;" for="newCampground[name]">Name</label>
					<input class="form-control" type="text" name="newCampground[name]" value="<%= campground.name %>"
						<% if(campground.name === ""){ %>
							placeholder = "Gold Creek"
						<% } %>
					>
				</div>
				<div class="form-group">
					<label style=" display: block;" for="newCampground[price]">Price/night ($)</label>
					<input class="form-control" type="number" value="<%= campground.price %>" min="0.01" step="0.01" name="newCampground[price]"
						<% if(campground.price === ""){ %>
							placeholder = "20.00"
						<% } %>
					>
				</div>
				<div class="form-group">
                    <label style=" display: block;" for="image">Upload Image</label>
                    <input style="display: inline" id="input1" type="file" name="image" accept="image/*">
					<button class="btn-danger pull-right" type="button" id="removeUpload">x</button>
                </div>
				<div class="form-group">
					<label style=" display: block;" for="newCampground[image]">Image Url</label>
					<input id="input2" class="form-control" type="text" name="newCampground[image]" value="<%= campground.image %>"
							<% if(campground.image === ""){ %>
								placeholder = "image url"
							<% } %>
					>
				</div>
				<div class="form-group">
					<label style=" display: block;" for="newCampground[description]">Description</label>
					<input class="form-control" type="text" name="newCampground[description]" value="<%= campground.description %>"
						<% if(campground.description === ""){ %>
							placeholder = "Has a swimming pool, with a great sunset view..."
						<% } %>
					>
				</div>
				<div class="form-group">
    				<label style=" display: block;" for="location">Location</label>
    				<input class="form-control" type="text" name="location" id="location" value="<%= campground.location %>"
						<% if(campground.description === ""){ %>
							placeholder = "Yosemite National Park, CA"
						<% } %>
					>
				</div>
				<div class="form-group">
					<button class="btn btn-lg btn-primary btn-block">Submit!</button>
				</div>
			</form>
			<a href="/campgrounds">Go Back</a>
		</div>
		
	</div>
	
</div>

<script>
var inp1 = document.getElementById("input1");
var inp2 = document.getElementById("input2");
	
if(inp1.value !== ""){
	document.getElementById("input2").classList.add("disable");
}
if(inp2.value !== ""){
	document.getElementById("input1").disabled = this.value != "";;
	document.getElementById("removeUpload").disabled = this.value != "";
}

inp1.oninput = function () {
    document.getElementById("input2").classList.add("disable");
};
inp2.oninput = function() {
	document.getElementById("input1").disabled = this.value != "";
	document.getElementById("removeUpload").disabled = this.value != "";
};

var remove = document.getElementById("removeUpload");
remove.addEventListener("click", function(){
	document.getElementById("input1").value = "";
	document.getElementById("input2").classList.remove("disable");
});
	
</script>
	
<% include ../partials/footer %>